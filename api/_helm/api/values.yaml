# Default values for api.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
#phpConsume:
#  repository: registry.gitlab.com/silverback-web-apps/j-savory-golf/php-consume
#  tag: latest
#  pullPolicy: Always
#  replicaCount: 1
imagePullSecrets:
  - name: gitlab-registry

php:
  repository: registry.gitlab.com/silverback-web-apps/components-web-app/php
  tag: latest
  pullPolicy: Always
  replicaCount: 1
  env: prod
  debug: '0'
  secret: ""
  corsAllowOrigin: "^https?://(.*\\.)?domain\\.com$"
  trustedHosts: "^(.*\\.)?domain\\.com|varnish$"
  trustedProxies:
    - 10.0.0.0/8
    - 172.16.0.0/12
    - 192.168.0.0/16
  jwt:
    secretKey: ''
    publicKey: ''
    passphrase: ''
  passwordManagerTokenTtl: 8600
  passwordRequestTimeout: 3600
  mailerDsn: smtp://smtp-relay
  varnishToken: ChangeMe
  cookieDomain: "domain.com"
  fromEmailAddress: noreply@website.com

nginx:
  repository: registry.gitlab.com/silverback-web-apps/components-web-app/nginx
  tag: latest
  pullPolicy: Always
  replicaCount: 1

varnish:
  enabled: true
  url: https://api.domain.com
  repository: registry.gitlab.com/silverback-web-apps/components-web-app/varnish
  tag: latest
  pullPolicy: Always
  replicaCount: 1

mysql:
  url: mysql://user:pass@example.com/api?serverVersion=10.1

ingress:
  host: api.domain.com
  secretName: letsencrypt-prod
  annotations:
    kubernetes.io/ingress.class: nginx

pvc:
  size:
    uploads: 4Gi
    cache: 4Gi

resources: {}
#  limits:
#    cpu: 100m
#    memory: 256Mi
#  requests:
#    cpu: 100m
#    memory: 256Mi
